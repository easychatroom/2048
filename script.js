function _0x3434(_0x58caaf,_0x2057f1){const _0x23739b=_0x2373();return _0x3434=function(_0x34346f,_0x449881){_0x34346f=_0x34346f-0x115;let _0x1bfb72=_0x23739b[_0x34346f];return _0x1bfb72;},_0x3434(_0x58caaf,_0x2057f1);}const _0x86fbf1=_0x3434;(function(_0x52a7db,_0x37b753){const _0x589305=_0x3434,_0x3a3122=_0x52a7db();while(!![]){try{const _0x2b522d=parseInt(_0x589305(0x126))/0x1*(-parseInt(_0x589305(0x131))/0x2)+-parseInt(_0x589305(0x14b))/0x3+parseInt(_0x589305(0x117))/0x4+parseInt(_0x589305(0x15f))/0x5+-parseInt(_0x589305(0x12f))/0x6+parseInt(_0x589305(0x141))/0x7*(parseInt(_0x589305(0x170))/0x8)+parseInt(_0x589305(0x16b))/0x9*(-parseInt(_0x589305(0x164))/0xa);if(_0x2b522d===_0x37b753)break;else _0x3a3122['push'](_0x3a3122['shift']());}catch(_0xb8a725){_0x3a3122['push'](_0x3a3122['shift']());}}}(_0x2373,0xb081d));const boardSize=0x4;let board=[],selectedTile={'row':null,'col':null};function createBoard(){const _0x105107=_0x3434,_0x29e623={'MGwic':_0x105107(0x13a),'rwAAE':_0x105107(0x143),'ZvnpV':function(_0x11d24f){return _0x11d24f();},'lkrxG':function(_0x21da9c){return _0x21da9c();}},_0x3e5a67=document['querySelector'](_0x105107(0x125));_0x3e5a67[_0x105107(0x127)]='';for(let _0xd5ba60=0x0;_0xd5ba60<boardSize;_0xd5ba60++){board[_0xd5ba60]=[];for(let _0x4ae2b1=0x0;_0x4ae2b1<boardSize;_0x4ae2b1++){board[_0xd5ba60][_0x4ae2b1]=0x0;const _0x2d415b=document[_0x105107(0x155)](_0x29e623['MGwic']);_0x2d415b['classList'][_0x105107(0x152)](_0x105107(0x138)),_0x2d415b[_0x105107(0x161)][_0x105107(0x167)]=_0xd5ba60,_0x2d415b['dataset'][_0x105107(0x16f)]=_0x4ae2b1,_0x2d415b[_0x105107(0x163)](_0x29e623[_0x105107(0x14c)],()=>selectTile(_0xd5ba60,_0x4ae2b1)),_0x3e5a67['appendChild'](_0x2d415b);}}spawnTile(),_0x29e623[_0x105107(0x157)](spawnTile),renderBoard(),_0x29e623[_0x105107(0x15c)](updateMaxTile);}function renderBoard(){const _0xaa0bbb=_0x3434,_0x58d5a2={'MHYCI':function(_0x41da58,_0x11465b){return _0x41da58===_0x11465b;},'tALWR':'selected'};for(let _0x1682dd=0x0;_0x1682dd<boardSize;_0x1682dd++){for(let _0x335c21=0x0;_0x335c21<boardSize;_0x335c21++){const _0x5aabe2=document[_0xaa0bbb(0x162)](_0xaa0bbb(0x140)+_0x1682dd+_0xaa0bbb(0x132)+_0x335c21+'\x22]'),_0x481108=board[_0x1682dd][_0x335c21];_0x5aabe2[_0xaa0bbb(0x12b)]=_0x58d5a2['MHYCI'](_0x481108,0x0)?'':_0x481108,_0x5aabe2[_0xaa0bbb(0x161)]['value']=_0x481108,selectedTile['row']===_0x1682dd&&selectedTile[_0xaa0bbb(0x16f)]===_0x335c21?_0x5aabe2['classList'][_0xaa0bbb(0x152)](_0xaa0bbb(0x12d)):_0x5aabe2[_0xaa0bbb(0x13e)]['remove'](_0x58d5a2['tALWR']);}}}function _0x2373(){const _0x1ca603=['wbnKl','avatarBase64','2158467IgzxTB','rwAAE','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-entry\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22data:image/png;base64,','dbLpG','floor','PQRGY','MOhWI','add','sUqbo','JqVZn','createElement','key','ZvnpV','value','leaderboardEntries','ArrowLeft','XPths','lkrxG','XwAXt','LQbVP','6905975IUShTj','tjOoN','dataset','querySelector','addEventListener','20GVzpYY','set','\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>','row','CutQg','rYueK','</b>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','321849IjKtKo','maxTile','max','UnIWJ','col','1090392CGIfyf','map','sXFQs','4740308rsKWGF','.restart-btn','replace','MswnK','BSWZP','BZEWS','orderByChild','now','HMzGt','</span>\x20-\x20<b>','https://webuserent.org','href','ZHoEG','username','.game-board','43084tfOouN','innerHTML','ArrowRight','length','cJUvj','textContent','val','selected','BEhfD','7559154UFnFPm','ArrowUp','22iUltvz','\x22][data-col=\x22','keydown','TEbNz','join','iVeMo','MMCwI','tile','ref','div','xEIVm','QRNMZ','split','classList','forEach','.tile[data-row=\x22','35HJrKHa','limitToLast','click','2048Scores','reverse','push','ArrowDown','eqzVp'];_0x2373=function(){return _0x1ca603;};return _0x2373();}function spawnTile(){const _0x30813e=_0x3434,_0x491c30={'wbnKl':function(_0x3c0741,_0x36c387){return _0x3c0741<_0x36c387;},'XwAXt':function(_0x2bc29d,_0x1b1df2){return _0x2bc29d<_0x1b1df2;},'QRNMZ':function(_0x1ba15e,_0x507950){return _0x1ba15e>_0x507950;},'MOhWI':function(_0x4e365c,_0x55028b){return _0x4e365c*_0x55028b;}},_0x3fa7ea=[];for(let _0x36804b=0x0;_0x491c30[_0x30813e(0x149)](_0x36804b,boardSize);_0x36804b++){for(let _0x204ef3=0x0;_0x491c30[_0x30813e(0x15d)](_0x204ef3,boardSize);_0x204ef3++){board[_0x36804b][_0x204ef3]===0x0&&_0x3fa7ea['push']({'row':_0x36804b,'col':_0x204ef3});}}if(_0x491c30[_0x30813e(0x13c)](_0x3fa7ea['length'],0x0)){const _0x2a3db1=_0x3fa7ea[Math[_0x30813e(0x14f)](_0x491c30[_0x30813e(0x151)](Math['random'](),_0x3fa7ea[_0x30813e(0x129)]))];board[_0x2a3db1[_0x30813e(0x167)]][_0x2a3db1[_0x30813e(0x16f)]]=_0x491c30[_0x30813e(0x15d)](Math['random'](),0.9)?0x2:0x4;}}function selectTile(_0x5e7e1f,_0x536398){const _0x209218=_0x3434,_0x3fa3ab={'sUqbo':function(_0x586b4d){return _0x586b4d();},'nfOlp':function(_0xdaa32f){return _0xdaa32f();}};selectedTile={'row':_0x5e7e1f,'col':_0x536398},_0x3fa3ab[_0x209218(0x153)](renderBoard),_0x3fa3ab['nfOlp'](updateMaxTile);}function handleKeyPress(_0x2845ab){const _0x2e5769=_0x3434,_0xec7075={'xLYQX':function(_0x19778a,_0x147186){return _0x19778a===_0x147186;},'CutQg':function(_0x4d0ca3,_0x2f1225){return _0x4d0ca3===_0x2f1225;},'BSWZP':function(_0x40fd02,_0x5e1298){return _0x40fd02>_0x5e1298;},'TEbNz':_0x2e5769(0x147),'tjOoN':function(_0x78e75,_0x406c55){return _0x78e75<_0x406c55;},'BZEWS':function(_0x24054e,_0x15ed15){return _0x24054e-_0x15ed15;},'MMCwI':_0x2e5769(0x15a),'MswnK':_0x2e5769(0x128),'icwkF':function(_0x814bac,_0x59d0a8){return _0x814bac!==_0x59d0a8;},'rYueK':function(_0x54fa94,_0x39c59){return _0x54fa94!==_0x39c59;},'LChAl':'2|0|1|4|3','PQRGY':function(_0x197f87){return _0x197f87();},'yzRhw':function(_0x5da283,_0x531c89,_0x23a779,_0x3d9d27,_0x350b1a){return _0x5da283(_0x531c89,_0x23a779,_0x3d9d27,_0x350b1a);}};if(_0xec7075['xLYQX'](selectedTile[_0x2e5769(0x167)],null)||_0xec7075[_0x2e5769(0x168)](selectedTile[_0x2e5769(0x16f)],null))return;const {row:_0xb6908b,col:_0x4db7d4}=selectedTile;let _0xa6d12e=_0xb6908b,_0x5427f9=_0x4db7d4;switch(_0x2845ab[_0x2e5769(0x156)]){case _0x2e5769(0x130):if(_0xec7075[_0x2e5769(0x11b)](_0xb6908b,0x0))_0xa6d12e--;break;case _0xec7075[_0x2e5769(0x134)]:if(_0xec7075[_0x2e5769(0x160)](_0xb6908b,_0xec7075[_0x2e5769(0x11c)](boardSize,0x1)))_0xa6d12e++;break;case _0xec7075[_0x2e5769(0x137)]:if(_0xec7075[_0x2e5769(0x11b)](_0x4db7d4,0x0))_0x5427f9--;break;case _0xec7075[_0x2e5769(0x11a)]:if(_0x4db7d4<_0xec7075['BZEWS'](boardSize,0x1))_0x5427f9++;break;default:return;}if(_0xec7075['icwkF'](_0xa6d12e,_0xb6908b)||_0xec7075[_0x2e5769(0x169)](_0x5427f9,_0x4db7d4)){const _0x3438a9=_0xec7075['LChAl'][_0x2e5769(0x13d)]('|');let _0x13754c=0x0;while(!![]){switch(_0x3438a9[_0x13754c++]){case'0':selectedTile={'row':_0xa6d12e,'col':_0x5427f9};continue;case'1':_0xec7075[_0x2e5769(0x150)](spawnTile);continue;case'2':_0xec7075['yzRhw'](moveTile,_0xb6908b,_0x4db7d4,_0xa6d12e,_0x5427f9);continue;case'3':updateMaxTile();continue;case'4':renderBoard();continue;}break;}}}function moveTile(_0x34a46d,_0x2fc30f,_0x2fea97,_0x4ccfd9){const _0x53ddb8=_0x3434,_0x57e569={'cJUvj':function(_0x1a794d,_0x1dc3b8){return _0x1a794d===_0x1dc3b8;},'HMzGt':function(_0x3f7309,_0xc5f612){return _0x3f7309===_0xc5f612;}};if(_0x57e569[_0x53ddb8(0x12a)](board[_0x2fea97][_0x4ccfd9],0x0))board[_0x2fea97][_0x4ccfd9]=board[_0x34a46d][_0x2fc30f],board[_0x34a46d][_0x2fc30f]=0x0;else _0x57e569[_0x53ddb8(0x11f)](board[_0x2fea97][_0x4ccfd9],board[_0x34a46d][_0x2fc30f])&&(board[_0x2fea97][_0x4ccfd9]*=0x2,board[_0x34a46d][_0x2fc30f]=0x0);}document[_0x86fbf1(0x162)](_0x86fbf1(0x118))[_0x86fbf1(0x163)]('click',()=>{const _0x249899=_0x86fbf1,_0x333647={'xEIVm':function(_0x3e5238){return _0x3e5238();}};selectedTile={'row':null,'col':null},_0x333647[_0x249899(0x13b)](createBoard);}),document[_0x86fbf1(0x163)](_0x86fbf1(0x133),handleKeyPress),createBoard();let maxTileValue=0x0,currentUser=null;((async()=>{const _0x3bde1c=_0x86fbf1,_0x1f8be9={'JqVZn':function(_0x361605){return _0x361605();},'iVeMo':function(_0x5ea69b,_0x338ee2){return _0x5ea69b(_0x338ee2);},'ZHoEG':'Login\x20failed.\x20Redirecting...','UnIWJ':_0x3bde1c(0x121)};currentUser=await _0x1f8be9['JqVZn'](authenticateFromURL);if(!currentUser){_0x1f8be9[_0x3bde1c(0x136)](alert,_0x1f8be9[_0x3bde1c(0x123)]),location[_0x3bde1c(0x122)]=_0x1f8be9[_0x3bde1c(0x16e)];return;}_0x1f8be9[_0x3bde1c(0x154)](listenToLeaderboard);})());function getMaxTile(_0x362c8b){const _0x3a25e9=_0x86fbf1;return Math[_0x3a25e9(0x16d)](..._0x362c8b['flat']());}function updateMaxTile(){const _0xf33385=_0x86fbf1,_0x4c62b1={'sXFQs':function(_0x2a4078,_0x2bc4eb){return _0x2a4078(_0x2bc4eb);},'JwXQC':function(_0x1c5a80,_0x3e630c){return _0x1c5a80>_0x3e630c;},'eqzVp':function(_0x285325,_0x397bd8){return _0x285325(_0x397bd8);}},_0x112c1d=_0x4c62b1[_0xf33385(0x116)](getMaxTile,board);_0x4c62b1['JwXQC'](_0x112c1d,maxTileValue)&&(maxTileValue=_0x112c1d,_0x4c62b1[_0xf33385(0x148)](saveTileToFirebase,_0x112c1d));}function saveTileToFirebase(_0x293412){const _0x543a2e=_0x86fbf1,_0x5e0417={'BEhfD':function(_0xc9f8dd,_0x38d6f6){return _0xc9f8dd(_0x38d6f6);}},_0x543e6e=_0x5e0417[_0x543a2e(0x12e)](sanitizeUsername,currentUser[_0x543a2e(0x124)]);db[_0x543a2e(0x139)]('2048Scores/'+_0x543e6e)[_0x543a2e(0x165)]({'username':currentUser[_0x543a2e(0x124)],'avatarBase64':currentUser[_0x543a2e(0x14a)]||'','maxTile':_0x293412,'timestamp':Date[_0x543a2e(0x11e)]()});}function sanitizeUsername(_0x571f0e){const _0x9d3963=_0x86fbf1;return _0x571f0e[_0x9d3963(0x119)](/[.#$\[\]]/g,'_');}function listenToLeaderboard(){const _0x41745a=_0x86fbf1,_0x386fd0={'LQbVP':_0x41745a(0x159),'SsPgi':_0x41745a(0x144),'dbLpG':_0x41745a(0x16c),'XPths':_0x41745a(0x158)},_0x2c5362=document['getElementById'](_0x386fd0[_0x41745a(0x15e)]);db[_0x41745a(0x139)](_0x386fd0['SsPgi'])[_0x41745a(0x11d)](_0x386fd0[_0x41745a(0x14e)])[_0x41745a(0x142)](0x14)['on'](_0x386fd0[_0x41745a(0x15b)],_0x45785d=>{const _0x27fd92=_0x41745a,_0x45b641=[];_0x45785d[_0x27fd92(0x13f)](_0x47acf7=>_0x45b641[_0x27fd92(0x146)](_0x47acf7[_0x27fd92(0x12c)]())),_0x45b641[_0x27fd92(0x145)](),_0x2c5362['innerHTML']=_0x45b641[_0x27fd92(0x115)](_0x1f15ca=>_0x27fd92(0x14d)+_0x1f15ca[_0x27fd92(0x14a)]+_0x27fd92(0x166)+_0x1f15ca[_0x27fd92(0x124)]+_0x27fd92(0x120)+_0x1f15ca[_0x27fd92(0x16c)]+_0x27fd92(0x16a))[_0x27fd92(0x135)]('');});}