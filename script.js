const _0x279a00=_0x5169;(function(_0x5ec367,_0x5b8097){const _0x1437ac=_0x5169,_0x427808=_0x5ec367();while(!![]){try{const _0x4c9258=-parseInt(_0x1437ac(0x1e1))/0x1+parseInt(_0x1437ac(0x1d6))/0x2*(parseInt(_0x1437ac(0x1e7))/0x3)+parseInt(_0x1437ac(0x196))/0x4+parseInt(_0x1437ac(0x1a9))/0x5*(-parseInt(_0x1437ac(0x1ae))/0x6)+-parseInt(_0x1437ac(0x1a3))/0x7*(-parseInt(_0x1437ac(0x18d))/0x8)+parseInt(_0x1437ac(0x1d7))/0x9+parseInt(_0x1437ac(0x1ac))/0xa;if(_0x4c9258===_0x5b8097)break;else _0x427808['push'](_0x427808['shift']());}catch(_0x41b06b){_0x427808['push'](_0x427808['shift']());}}}(_0x3b41,0xb299a));const boardSize=0x4;let board=[],selectedTile={'row':null,'col':null};function createBoard(){const _0x33b6a5=_0x5169,_0x22cf64={'cbOIO':_0x33b6a5(0x1ef),'FbPFP':_0x33b6a5(0x1c0),'WqmNh':_0x33b6a5(0x192),'LtJLJ':function(_0x536afc){return _0x536afc();}},_0x2104cd=document[_0x33b6a5(0x195)](_0x22cf64[_0x33b6a5(0x1a4)]);_0x2104cd[_0x33b6a5(0x19b)]='';for(let _0x383302=0x0;_0x383302<boardSize;_0x383302++){board[_0x383302]=[];for(let _0x4175a0=0x0;_0x4175a0<boardSize;_0x4175a0++){board[_0x383302][_0x4175a0]=0x0;const _0x33c0be=document['createElement'](_0x22cf64[_0x33b6a5(0x19f)]);_0x33c0be['classList'][_0x33b6a5(0x1db)](_0x22cf64[_0x33b6a5(0x1b1)]),_0x33c0be[_0x33b6a5(0x1b7)][_0x33b6a5(0x199)]=_0x383302,_0x33c0be['dataset'][_0x33b6a5(0x1d9)]=_0x4175a0,_0x33c0be[_0x33b6a5(0x1b3)](_0x33b6a5(0x1bb),()=>selectTile(_0x383302,_0x4175a0)),_0x2104cd[_0x33b6a5(0x1eb)](_0x33c0be);}}spawnTile(),_0x22cf64[_0x33b6a5(0x1a5)](spawnTile),_0x22cf64[_0x33b6a5(0x1a5)](renderBoard),_0x22cf64[_0x33b6a5(0x1a5)](updateMaxTile);}function renderBoard(){const _0x350f07=_0x5169,_0x5c18c3={'ngzWU':function(_0x4111fc,_0x242ea6){return _0x4111fc<_0x242ea6;},'mjjXB':function(_0x31f5dd,_0xcb3779){return _0x31f5dd===_0xcb3779;},'ZrndD':function(_0x469335,_0x16d16c){return _0x469335===_0x16d16c;},'QvJXg':_0x350f07(0x1dc)};for(let _0x5824a5=0x0;_0x5c18c3[_0x350f07(0x1f0)](_0x5824a5,boardSize);_0x5824a5++){for(let _0x5a3b68=0x0;_0x5a3b68<boardSize;_0x5a3b68++){const _0x3ef324=document[_0x350f07(0x195)](_0x350f07(0x1e3)+_0x5824a5+_0x350f07(0x1af)+_0x5a3b68+'\x22]'),_0x51a0aa=board[_0x5824a5][_0x5a3b68];_0x3ef324['textContent']=_0x51a0aa===0x0?'':_0x51a0aa,_0x3ef324[_0x350f07(0x1b7)]['value']=_0x51a0aa,_0x5c18c3[_0x350f07(0x1e5)](selectedTile[_0x350f07(0x199)],_0x5824a5)&&_0x5c18c3[_0x350f07(0x1c8)](selectedTile['col'],_0x5a3b68)?_0x3ef324[_0x350f07(0x198)][_0x350f07(0x1db)](_0x350f07(0x1dc)):_0x3ef324['classList'][_0x350f07(0x1ec)](_0x5c18c3[_0x350f07(0x1e0)]);}}}function spawnTile(){const _0x13c738=_0x5169,_0x39f028={'TLChL':function(_0x3595f8,_0x19ea78){return _0x3595f8<_0x19ea78;},'TrADy':function(_0x3c394d,_0x46b822){return _0x3c394d<_0x46b822;},'ewAiY':function(_0x1630ef,_0x4b5cdf){return _0x1630ef===_0x4b5cdf;},'neHLw':function(_0x474db9,_0x5ecd27){return _0x474db9*_0x5ecd27;}},_0x2ab2ac=[];for(let _0x14f49b=0x0;_0x39f028['TLChL'](_0x14f49b,boardSize);_0x14f49b++){for(let _0x15e2ad=0x0;_0x39f028[_0x13c738(0x1ca)](_0x15e2ad,boardSize);_0x15e2ad++){_0x39f028[_0x13c738(0x1c1)](board[_0x14f49b][_0x15e2ad],0x0)&&_0x2ab2ac[_0x13c738(0x197)]({'row':_0x14f49b,'col':_0x15e2ad});}}if(_0x2ab2ac[_0x13c738(0x1ab)]>0x0){const _0x2ebcd3=_0x2ab2ac[Math[_0x13c738(0x1ba)](_0x39f028[_0x13c738(0x1d8)](Math[_0x13c738(0x1bc)](),_0x2ab2ac['length']))];board[_0x2ebcd3[_0x13c738(0x199)]][_0x2ebcd3[_0x13c738(0x1d9)]]=Math[_0x13c738(0x1bc)]()<0.9?0x2:0x4;}}function selectTile(_0x3e7e51,_0x4f598c){const _0x32eaf4=_0x5169,_0x56c458={'fXzSG':function(_0x3bcba7){return _0x3bcba7();}};selectedTile={'row':_0x3e7e51,'col':_0x4f598c},renderBoard(),_0x56c458[_0x32eaf4(0x1c7)](updateMaxTile);}function handleKeyPress(_0x322358){const _0x10e68a=_0x5169,_0x4d6d50={'gWQIB':function(_0x40a29f,_0x1630ca){return _0x40a29f===_0x1630ca;},'KZpHZ':_0x10e68a(0x1e6),'eSfrA':function(_0x57d45c,_0x3ac933){return _0x57d45c>_0x3ac933;},'ZutNS':_0x10e68a(0x1df),'pTKds':_0x10e68a(0x1a7),'xghgf':_0x10e68a(0x1be),'WXrqw':function(_0x316cdd,_0x3f7d5c){return _0x316cdd<_0x3f7d5c;},'aJdOU':function(_0xc13490,_0x1f5336){return _0xc13490-_0x1f5336;},'NnJmk':function(_0x50a8b3,_0x54e346){return _0x50a8b3!==_0x54e346;},'HNidA':'1|3|0|2|4','KftuT':function(_0x42aca7){return _0x42aca7();},'BhkVm':function(_0x42a8c4,_0x43d259,_0x205a21,_0x201e01,_0x5f47b0){return _0x42a8c4(_0x43d259,_0x205a21,_0x201e01,_0x5f47b0);},'swCbJ':function(_0x57b968){return _0x57b968();}};if(_0x4d6d50[_0x10e68a(0x190)](selectedTile['row'],null)||_0x4d6d50[_0x10e68a(0x190)](selectedTile['col'],null))return;const {row:_0x2186dc,col:_0x591457}=selectedTile;let _0xb9c09d=_0x2186dc,_0x59125e=_0x591457;switch(_0x322358[_0x10e68a(0x1ce)]){case _0x4d6d50[_0x10e68a(0x1da)]:if(_0x4d6d50[_0x10e68a(0x1d5)](_0x2186dc,0x0))_0xb9c09d--;break;case _0x4d6d50[_0x10e68a(0x1d4)]:if(_0x2186dc<boardSize-0x1)_0xb9c09d++;break;case _0x4d6d50[_0x10e68a(0x1b5)]:if(_0x4d6d50[_0x10e68a(0x1d5)](_0x591457,0x0))_0x59125e--;break;case _0x4d6d50[_0x10e68a(0x1a0)]:if(_0x4d6d50[_0x10e68a(0x1d1)](_0x591457,_0x4d6d50[_0x10e68a(0x1de)](boardSize,0x1)))_0x59125e++;break;default:return;}if(_0x4d6d50[_0x10e68a(0x1bd)](_0xb9c09d,_0x2186dc)||_0x4d6d50['NnJmk'](_0x59125e,_0x591457)){const _0x30d629=_0x4d6d50['HNidA']['split']('|');let _0x392974=0x0;while(!![]){switch(_0x30d629[_0x392974++]){case'0':_0x4d6d50[_0x10e68a(0x1c6)](spawnTile);continue;case'1':_0x4d6d50[_0x10e68a(0x19a)](moveTile,_0x2186dc,_0x591457,_0xb9c09d,_0x59125e);continue;case'2':_0x4d6d50['swCbJ'](renderBoard);continue;case'3':selectedTile={'row':_0xb9c09d,'col':_0x59125e};continue;case'4':_0x4d6d50[_0x10e68a(0x1cd)](updateMaxTile);continue;}break;}}}function moveTile(_0x154e32,_0x2a9a95,_0x55f88f,_0x2179ce){const _0x50bd2d=_0x5169,_0x234563={'wgXLm':function(_0x6244b0,_0x5dcd50){return _0x6244b0===_0x5dcd50;}};if(_0x234563[_0x50bd2d(0x1c3)](board[_0x55f88f][_0x2179ce],0x0))board[_0x55f88f][_0x2179ce]=board[_0x154e32][_0x2a9a95],board[_0x154e32][_0x2a9a95]=0x0;else _0x234563['wgXLm'](board[_0x55f88f][_0x2179ce],board[_0x154e32][_0x2a9a95])&&(board[_0x55f88f][_0x2179ce]*=0x2,board[_0x154e32][_0x2a9a95]=0x0);}document[_0x279a00(0x195)](_0x279a00(0x1b9))[_0x279a00(0x1b3)](_0x279a00(0x1bb),()=>{selectedTile={'row':null,'col':null},createBoard();}),document[_0x279a00(0x1b3)](_0x279a00(0x19e),handleKeyPress);function _0x5169(_0x318163,_0x31e50d){const _0x3b410b=_0x3b41();return _0x5169=function(_0x5169f2,_0x5d700c){_0x5169f2=_0x5169f2-0x18c;let _0x2f101d=_0x3b410b[_0x5169f2];return _0x2f101d;},_0x5169(_0x318163,_0x31e50d);}let currentUser=null,maxTileValue=0x0;function _0x3b41(){const _0x549760=['ArrowUp','14115ZJZMcL','zxzbM','2048_user','removeItem','appendChild','remove','</span>','getElementById','.game-board','ngzWU','get','44784hQeLRF','<span\x20style=\x22margin-right:8px;\x22>','sJydg','gWQIB','yUOrr','tile','maxTile','forEach','querySelector','3107468eaFYKU','push','classList','row','BhkVm','innerHTML','ref','join','keydown','FbPFP','xghgf','username','IavuK','161BdehhV','cbOIO','LtJLJ','flat','ArrowLeft','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22data:image/png;base64,','2725595dINsZH','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-entry\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','length','4778380KIPYSW','sort','6xyVTCj','\x22][data-col=\x22','uQfDo','WqmNh','sYIVL','addEventListener','max','pTKds','leaderboardEntries','dataset','avatarBase64','.restart-btn','floor','click','random','NnJmk','ArrowRight','then','div','ewAiY','beforeunload','wgXLm','mbuTD','sclZF','KftuT','fXzSG','ZrndD','val','TrADy','lYLCH','ipNsq','swCbJ','key','EjAOB','slice','WXrqw','now','2048Scores/','ZutNS','eSfrA','214tnbmJh','837792nqMbEq','neHLw','col','KZpHZ','add','selected','jTRqs','aJdOU','ArrowDown','QvJXg','703317zvlhby','2048Scores','.tile[data-row=\x22','map','mjjXB'];_0x3b41=function(){return _0x549760;};return _0x3b41();}((async()=>{const _0x2500e=_0x279a00,_0xb6fb83={'fZQrc':_0x2500e(0x1e9),'EjAOB':'2048_avatar','sMJtH':function(_0x58ae7b){return _0x58ae7b();},'lYLCH':function(_0x4fdf49){return _0x4fdf49();},'mbuTD':function(_0x3a1e90){return _0x3a1e90();},'NePEi':_0x2500e(0x1c2)};currentUser=await _0xb6fb83['sMJtH'](authenticateFromURL);if(!currentUser)return;_0xb6fb83[_0x2500e(0x1cb)](listenToLeaderboard),_0xb6fb83[_0x2500e(0x1c4)](createBoard),window[_0x2500e(0x1b3)](_0xb6fb83['NePEi'],()=>{const _0x4a1dc2=_0x2500e;sessionStorage[_0x4a1dc2(0x1ea)](_0xb6fb83['fZQrc']),sessionStorage['removeItem'](_0xb6fb83[_0x4a1dc2(0x1cf)]);});})());function getMaxTile(_0x467a58){const _0x4aa4fc=_0x279a00;return Math[_0x4aa4fc(0x1b4)](..._0x467a58[_0x4aa4fc(0x1a6)]());}function updateMaxTile(){const _0x142fcd=_0x279a00,_0x175690={'sYIVL':function(_0x52c935,_0x15ba9e){return _0x52c935>_0x15ba9e;},'sclZF':function(_0x4f0d2c,_0x5dde8f){return _0x4f0d2c(_0x5dde8f);}},_0x207605=getMaxTile(board);_0x175690[_0x142fcd(0x1b2)](_0x207605,maxTileValue)&&(maxTileValue=_0x207605,_0x175690[_0x142fcd(0x1c5)](saveTileToFirebase,_0x207605));}function saveTileToFirebase(_0x228ec1){const _0x405430=_0x279a00,_0x117d09={'ipNsq':function(_0x5b86fa,_0x5251b9){return _0x5b86fa>_0x5251b9;}},_0x3f37ed=sanitizeUsername(currentUser[_0x405430(0x1a1)]),_0x1301dd=db[_0x405430(0x19c)](_0x405430(0x1d3)+_0x3f37ed);_0x1301dd[_0x405430(0x18c)]()[_0x405430(0x1bf)](_0x28f997=>{const _0x196895=_0x405430,_0x489f01=_0x28f997[_0x196895(0x1c9)]();(!_0x489f01||_0x117d09[_0x196895(0x1cc)](_0x228ec1,_0x489f01['maxTile']||0x0))&&_0x1301dd['set']({'username':currentUser['username'],'avatarBase64':currentUser[_0x196895(0x1b8)]||'','maxTile':_0x228ec1,'timestamp':Date[_0x196895(0x1d2)]()});});}function sanitizeUsername(_0x40b275){return _0x40b275['replace'](/[.#$\[\]]/g,'_');}function listenToLeaderboard(){const _0x28bd1d=_0x279a00,_0x4f2371={'uQfDo':function(_0x4cf55e,_0x56f3c2){return _0x4cf55e===_0x56f3c2;},'yUOrr':_0x28bd1d(0x1b6),'zxzbM':_0x28bd1d(0x1e2),'hTxfM':'value'},_0x339138=document[_0x28bd1d(0x1ee)](_0x4f2371[_0x28bd1d(0x191)]);db['ref'](_0x4f2371[_0x28bd1d(0x1e8)])['on'](_0x4f2371['hTxfM'],_0x923ec0=>{const _0xc01bb1=_0x28bd1d,_0x491094={'sJydg':function(_0x4a222a,_0x4299e8){const _0xd95106=_0x5169;return _0x4f2371[_0xd95106(0x1b0)](_0x4a222a,_0x4299e8);},'IavuK':function(_0x4a136d,_0x18d16c){return _0x4a136d===_0x18d16c;},'jTRqs':function(_0x57ed38,_0x4a256a){return _0x57ed38+_0x4a256a;}},_0x4c3688=[];_0x923ec0[_0xc01bb1(0x194)](_0x393a00=>_0x4c3688[_0xc01bb1(0x197)](_0x393a00['val']())),_0x4c3688[_0xc01bb1(0x1ad)]((_0x3d3bd3,_0x12a153)=>_0x12a153['maxTile']-_0x3d3bd3['maxTile']),_0x4c3688=_0x4c3688[_0xc01bb1(0x1d0)](0x0,0x14),_0x339138[_0xc01bb1(0x19b)]=_0x4c3688[_0xc01bb1(0x1e4)]((_0x34cf95,_0x37043e)=>{const _0x3fb0ce=_0xc01bb1;let _0x2c79b7='';if(_0x491094[_0x3fb0ce(0x18f)](_0x37043e,0x0))_0x2c79b7='🥇';else{if(_0x37043e===0x1)_0x2c79b7='🥈';else{if(_0x491094[_0x3fb0ce(0x1a2)](_0x37043e,0x2))_0x2c79b7='🥉';}}const _0x3513f8=_0x3fb0ce(0x18e)+_0x491094[_0x3fb0ce(0x1dd)](_0x37043e,0x1)+'\x20'+_0x2c79b7+_0x3fb0ce(0x1ed);return _0x3fb0ce(0x1aa)+_0x3513f8+_0x3fb0ce(0x1a8)+_0x34cf95[_0x3fb0ce(0x1b8)]+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x34cf95[_0x3fb0ce(0x1a1)]+'</span>\x20-\x20<b>'+_0x34cf95[_0x3fb0ce(0x193)]+'</b>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20';})[_0xc01bb1(0x19d)]('');});}